type UserPrefs = record {
  include_topic: vec text;
  include_status: vec text;
  include_action: vec text;
  include_reward_status: vec text;
  manage_neuron_id: opt nat;
  proposer: opt nat;
};

type UserState = record {
  prefs: UserPrefs;
  last_seen_proposal_id: opt nat;
  webhook: opt text;
  created_at_ns: nat64;
  updated_at_ns: nat64;
};

service : {
  version: () -> (text) query;
  getPrefs: () -> (opt UserPrefs) query;
  getLastSeenProposalId: () -> (opt nat) query;
  getWebhook: () -> (opt text) query;
  getMyState: () -> (UserState);
  setPrefs: (UserPrefs) -> (UserState);
  setLastSeenProposalId: (nat) -> (UserState);
  setWebhook: (opt text) -> (UserState);
};
